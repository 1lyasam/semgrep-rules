rules:
- id: return-in-init
  patterns:
  - pattern-inside: |
      class $A(...):
          ...
  - pattern-either:
    - pattern: |
        def __init__(...):
            ...
            return ...
    - pattern: |
        def __init__(...):
            ...
            return
  message: '`return` should never appear inside a class __init__ function. This will cause a runtime error.'
  languages: [python]
  severity: ERROR
- id: yield-in-init
  patterns:
  - pattern-inside: |
      class $A(...):
          ...
  - pattern-either:
    - pattern: |
        def __init__(...):
            ...
            yield ...
    - pattern: |
        def __init__(...):
            ...
            yield
  message: '`yield` should never appear inside a class __init__ function. This will cause a runtime error.'
  languages: [python]
  severity: ERROR
